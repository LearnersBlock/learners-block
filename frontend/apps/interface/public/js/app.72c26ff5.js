(function(t){function e(e){for(var s,a,r=e[0],c=e[1],l=e[2],u=0,d=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);h&&h(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(s=!1)}s&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var s={},a={app:0},i={app:0},o=[];function r(t){return c.p+"js/"+({"auth.login":"auth.login","auth.logout":"auth.logout"}[t]||t)+"."+{"auth.login":"282b1bdd","auth.logout":"edb4a1a1","chunk-2d0a3e5a":"f39a8d38","chunk-2d0a4fde":"58b3402c","chunk-2d0ac02e":"3f4b597d","chunk-2d0af43f":"7751bfc3","chunk-2d0b250b":"d4071535","chunk-2d0ba553":"fa48501f","chunk-2d0bdf67":"007d374d","chunk-2d0c13f4":"20107ef3","chunk-2d0c7e39":"6ddba316","chunk-2d0c84b4":"f9092f50","chunk-2d0d2f11":"8ca7c3f1","chunk-2d2105cc":"9c0e4b46","chunk-2d21d8ce":"9f683fbd","chunk-2d21f09e":"e2ee4694"}[t]+".js"}function c(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"auth.login":1,"auth.logout":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var s="css/"+({"auth.login":"auth.login","auth.logout":"auth.logout"}[t]||t)+"."+{"auth.login":"c893793b","auth.logout":"4f2965c3","chunk-2d0a3e5a":"31d6cfe0","chunk-2d0a4fde":"31d6cfe0","chunk-2d0ac02e":"31d6cfe0","chunk-2d0af43f":"31d6cfe0","chunk-2d0b250b":"31d6cfe0","chunk-2d0ba553":"31d6cfe0","chunk-2d0bdf67":"31d6cfe0","chunk-2d0c13f4":"31d6cfe0","chunk-2d0c7e39":"31d6cfe0","chunk-2d0c84b4":"31d6cfe0","chunk-2d0d2f11":"31d6cfe0","chunk-2d2105cc":"31d6cfe0","chunk-2d21d8ce":"31d6cfe0","chunk-2d21f09e":"31d6cfe0"}[t]+".css",i=c.p+s,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var l=o[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===s||u===i))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){l=d[r],u=l.getAttribute("data-href");if(u===s||u===i)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var s=e&&e.target&&e.target.src||i,o=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=s,delete a[t],h.parentNode.removeChild(h),n(o)},h.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){a[t]=0})));var s=i[t];if(0!==s)if(s)e.push(s[2]);else{var o=new Promise((function(e,n){s=i[t]=[e,n]}));e.push(s[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(h);var n=i[t];if(0!==n){if(n){var s=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",d.name="ChunkLoadError",d.type=s,d.request=a,n[1](d)}i[t]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=s,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(n,s,function(e){return t[e]}.bind(null,s));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var h=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"073e":function(t,e,n){"use strict";var s=n("bf7c"),a=n.n(s);a.a},"107f":function(t,e,n){n("99af");var s=n("ded3"),a=n("4082");t.exports={functional:!0,render:function(t,e){var n=e._c,i=(e._v,e.data),o=e.children,r=void 0===o?[]:o,c=i.class,l=i.staticClass,u=i.style,d=i.staticStyle,h=i.attrs,f=void 0===h?{}:h,g=a(i,["class","staticClass","style","staticStyle","attrs"]);return n("svg",s({class:[c,l],style:[u,d],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},f)},g),r.concat([n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}})]))}}},1416:function(t,e,n){},"153d":function(t,e,n){var s={"./heroicons-arrow-narrow-left.svg":["185f","chunk-2d0ac02e"],"./heroicons-chevron-right.svg":["44db","chunk-2d0c13f4"],"./heroicons-cog.svg":["d7b7","chunk-2d21f09e"],"./heroicons-collection.svg":["4456"],"./heroicons-exclamation.svg":["5316","chunk-2d0c7e39"],"./heroicons-external-link.svg":["b822","chunk-2d2105cc"],"./heroicons-globe.svg":["107f"],"./heroicons-key.svg":["53ee","chunk-2d0c84b4"],"./heroicons-logout.svg":["241d","chunk-2d0b250b"],"./heroicons-refresh.svg":["0e1e","chunk-2d0af43f"],"./heroicons-server.svg":["03ab","chunk-2d0a3e5a"],"./heroicons-translate.svg":["2ddc","chunk-2d0bdf67"],"./heroicons-user.svg":["0998","chunk-2d0a4fde"],"./heroicons-view-grid.svg":["5b3a","chunk-2d0d2f11"],"./heroicons-wifi.svg":["3781","chunk-2d0ba553"],"./streamline-icon-server-warning.svg":["d27a","chunk-2d21d8ce"]};function a(t){if(!n.o(s,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=s[t],a=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n.t(a,7)}))}a.keys=function(){return Object.keys(s)},a.id="153d",t.exports=a},"21bb":function(t,e,n){"use strict";var s=n("2dad"),a=n.n(s);a.a},"2dad":function(t,e,n){},"35a2":function(t,e,n){"use strict";var s=n("3df9"),a=n.n(s);a.a},"367a":function(t,e,n){"use strict";var s=n("7bdd"),a=n.n(s);a.a},"36b6":function(t,e,n){"use strict";var s=n("721c"),a=n.n(s);a.a},"370e":function(t,e,n){n("99af");var s=n("ded3"),a=n("4082");t.exports={functional:!0,render:function(t,e){var n=e._c,i=(e._v,e.data),o=e.children,r=void 0===o?[]:o,c=i.class,l=i.staticClass,u=i.style,d=i.staticStyle,h=i.attrs,f=void 0===h?{}:h,g=a(i,["class","staticClass","style","staticStyle","attrs"]);return n("svg",s({class:[c,l],style:[u,d],attrs:Object.assign({width:"411",height:"364",xmlns:"http://www.w3.org/2000/svg"},f)},g),r.concat([n("path",{attrs:{d:"M352.8 19.1c27.3 28.7 19 93.9 29.6 155.5 10.6 61.7 40.1 119.8 22.9 152.2-17.2 32.3-81.2 39-130.7 35.4-49.5-3.6-84.6-17.4-116.2-32.5-31.5-15.2-59.5-31.7-92.3-59.5-32.9-27.8-70.6-66.8-64.9-98C7 141 56.3 117.7 96.6 91.3c40.4-26.4 71.9-55.8 119-74.5 47.2-18.6 110-26.4 137.2 2.3z",fill:"#FFF","fill-rule":"nonzero"}})]))}}},"3df9":function(t,e,n){},"3f57":function(t,e,n){},4456:function(t,e,n){n("99af");var s=n("ded3"),a=n("4082");t.exports={functional:!0,render:function(t,e){var n=e._c,i=(e._v,e.data),o=e.children,r=void 0===o?[]:o,c=i.class,l=i.staticClass,u=i.style,d=i.staticStyle,h=i.attrs,f=void 0===h?{}:h,g=a(i,["class","staticClass","style","staticStyle","attrs"]);return n("svg",s({class:[c,l],style:[u,d],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},f)},g),r.concat([n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"}})]))}}},"52ff":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:this.$store.state.app.loading,expression:"this.$store.state.app.loading"}],attrs:{id:"app"}},[n("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[n("router-view")],1)],1)},i=[],o={name:"App",components:{},data:function(){return{error:null}}},r=o,c=(n("5c0b"),n("2877")),l=Object(c["a"])(r,a,i,!1,null,null,null),u=l.exports,d=(n("d3b7"),n("8c4f")),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-header",{attrs:{title:t.$t("home-screen.title")}}),n("div",{staticClass:"el-main"},[n("el-section-quicknav",{attrs:{items:this.quickNavItems}})],1)],1)},f=[],g=(n("3ca3"),n("ddb0"),n("96cf"),n("1da1")),p=n("5530"),m=n("2f62"),b={namespaced:!0,state:{loading:!1},mutations:{SET_LOADING:function(t,e){t.loading=e}},getters:{isLoading:function(t){return t.loading}},actions:{}},v=(n("4795"),n("bc3a")),_=n.n(v),w=n("a78e"),k=n.n(w),y=function(){var t={headers:{Accept:"application/json","Content-Type":"application/json"}},e="lb__auth",n=k.a.get(e)?JSON.parse(k.a.get(e)):null;if(n){var a=n.token||"";t.headers.Authorization="Bearer ".concat(a)}var i=location.hostname,o=_.a.create(Object(p["a"])({baseURL:i+"/api/v1"},t));return o.interceptors.response.use((function(t){return t}),function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.response||!e.response.data){t.next=6;break}if(401!==e.response.data.status){t.next=6;break}return I.dispatch("auth/logout"),n=s["default"].$router.history.current.path,s["default"].$router.push("/login?redirect=".concat(n)),t.abrupt("return",e.response);case 6:return t.abrupt("return",Promise.reject(e));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),o},S="lb__auth",E=k.a.get(S)?JSON.parse(k.a.get(S)):null,C={namespaced:!0,state:{loading:!1,required:!1,username:E?E.username:"",token:E?E.token:"",permissions:E?E.permissions:""},mutations:{AUTH_LOGIN:function(t,e){if(e.data.success){var n=e.data.data.token,s=e.data.data.permissions,a=e.data.data.username;t.username=a,t.token=n,t.permissions=s,k.a.set(S,JSON.stringify({token:n,permissions:s,username:a}))}},AUTH_LOGOUT:function(t,e){t.token=null,t.permissions=null,t.username=null,k.a.remove(S)},AUTH_REQUIRED:function(t,e){t.required=e},AUTH_REQUEST:function(t,e){t.loading=e},AUTH_ERROR:function(t){t.status="error"}},getters:{isAuthenticated:function(t){return!!t.token},hasAdminPermissions:function(t){return"admin"===t.permissions},hasTeacherPermissions:function(t){return"teacher"===t.permissions},isAuthLoading:function(t){return t.loading},isAuthRequired:function(t){return t.required}},actions:{getAuthRequirements:function(t,e){return t.commit("AUTH_REQUEST",!0),new Promise((function(n,s){y().get("/auth/check",e).then((function(e){t.commit("AUTH_REQUIRED",e.data.data.enabled),t.commit("AUTH_REQUEST",!1),n(e)})).catch((function(e){setTimeout((function(){t.commit("AUTH_ERROR",e),t.commit("AUTH_REQUEST",!1),s(e)}),600)}))}))},login:function(t,e){return t.commit("AUTH_REQUEST",!0),new Promise((function(n,s){y().post("/auth/login",e).then((function(e){setTimeout((function(){t.commit("AUTH_LOGIN",e),t.commit("AUTH_REQUEST",!1),n(e)}),1400)})).catch((function(e){setTimeout((function(){t.commit("AUTH_ERROR",e),k.a.remove(S),t.commit("AUTH_REQUEST",!1),s(e)}),600)}))}))},logout:function(t,e){return t.commit("AUTH_REQUEST",!0),new Promise((function(e,n){setTimeout((function(){t.commit("AUTH_LOGOUT"),t.commit("AUTH_REQUEST",!1),e()}),1400)}))}}},$=(n("caad"),n("2532"),n("4160"),n("ac1f"),n("466d"),n("159b"),n("a925"));function T(){var t=n("a35b"),e={};return t.keys().forEach((function(n){var s=n.match(/([A-Za-z0-9-_]+)\./i);if(s&&s.length>1){var a=s[1];e[a]=t(n)}})),e}s["default"].use($["a"]);var x=new $["a"]({locale:"en",fallbackLocale:"en",messages:T()}),O="lb__lang",A={namespaced:!0,state:{default:null,current:null},mutations:{SET_CURRENT_LANG:function(t,e){t.current=e}},getters:{availableLocales:function(t){return x.availableLocales}},actions:{updateLang:function(t,e){var n=t.getters.availableLocales;n&&n.includes(e.lang)?(x.locale=e.lang,t.commit("SET_CURRENT_LANG",e.lang),e.store&&k.a.set(O,e.lang)):(k.a.remove(O),t.commit("SET_CURRENT_LANG",x.locale))}}},D=(n("99af"),n("9b02")),R=n.n(D),N=n("0f5c"),L=n.n(N),j={namespaced:!0,state:{loading:!0,settings:null},mutations:{SET_SETTINGS:function(t,e){t.settings=e.data},UPDATE_SETTING:function(t,e){L()(t.settings,"".concat(e.group,".").concat(e.key),e.value)},SET_LOADING_STATE:function(t,e){t.loading=e}},getters:{getSettings:function(t){return t.settings},getSettingFromPath:function(t){return function(e){return R()(t.settings,e)}}},actions:{fetchSettings:function(t,e){if(!t.state.settings)return y().get("/settings").then((function(t){return t.data})).then((function(e){t.commit("SET_SETTINGS",e),t.commit("SET_LOADING_STATE",!1)}))},update:function(t,e){t.commit("SET_LOADING_STATE",!0);var n=t.getters.getSettingFromPath("".concat(e.group,".").concat(e.key));return t.commit("UPDATE_SETTING",e),new Promise((function(s,a){y().patch("/settings",e).then((function(e){setTimeout((function(){t.commit("SET_LOADING_STATE",!1),s(e)}),1400)})).catch((function(s){setTimeout((function(){e.value=n,t.commit("UPDATE_SETTING",e),t.commit("SET_LOADING_STATE",!1),a(s)}),600)}))}))}}},U=n("b054"),P=n.n(U);s["default"].use(m["a"]);var I=new m["a"].Store({plugins:[P()()],modules:{app:b,auth:C,lang:A,settings:j}}),H=(n("a15b"),n("d81d"),n("b64b"),{methods:{createQueryParams:function(t){return Object.keys(t).map((function(e){return"".concat(e,"=").concat(encodeURI(t[e]))})).join("&")}}}),q={methods:{getFileviewerLink:function(t){var e=this.$store.state.settings.settings.components.fileviewer.path,n=this.$i18n.locale,s={},a={lang:n};t&&this.$store.getters["auth/isAuthenticated"]&&(s={mode:"admin"});var i=Object(p["a"])({},a,{},s),o=this.createQueryParams(i);return"".concat(e,"/?").concat(o)}}},V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"el-header",class:this.classes},[n("div",{staticClass:"el-header is-vertical"},[n("div",{staticClass:"el-container is-vertical"},[n("div",{staticClass:"el-header__nav"},[n("el-nav",{attrs:{type:"light"}})],1),this.title?n("div",{staticClass:"el-header__inner"},[n("div",{staticClass:"el-header__back",class:this.showBack?"":"el-header__back--hidden"},[n("button",{staticClass:"el-button el-button--link el-button--light",on:{click:function(e){return t.$router.go(-1)}}},[n("el-icon",{attrs:{name:"heroicons-arrow-narrow-left",type:"light"}}),n("span",[t._v(t._s(this.back))])],1)]),n("div",{staticClass:"el-header__content"},[this.title?n("div",{staticClass:"el-header__title"},[n("h1",[t._v(t._s(this.title))])]):t._e()])]):t._e()])]),n("div",{staticClass:"el-header__background"},[n("ShapeOne"),n("ShapeTwo")],1)])},G=[],B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{class:"el-nav "+this.navType},[n("div",{staticClass:"el-nav__left"}),n("div",{staticClass:"el-nav__right"},[n("el-button",{staticClass:"el-button--seamless el-nav__lang",on:{click:function(e){t.languageSwitchVisible=!0}}},[n("el-icon",{attrs:{name:"heroicons-translate"}}),n("span",[t._v(" "+t._s(t.$t("lang.name"))+" ")])],1),n("el-button",{staticClass:"el-button--seamless el-nav__settings",on:{click:function(e){return t.$router.push("/settings")}}},[n("el-icon",{attrs:{name:"heroicons-cog"}})],1),t.isAuthenticated?n("el-button",{staticClass:"el-button--seamless el-nav__logout",on:{click:function(e){return t.$router.push("/logout")}}},[n("el-icon",{attrs:{name:"heroicons-logout"}})],1):t._e()],1)]),n("el-lang-switcher-dialog",{attrs:{visible:t.languageSwitchVisible},on:{"update:visible":function(e){t.languageSwitchVisible=e},"hide-dialog":function(e){t.languageSwitchVisible=!1}}})],1)},F=[],M=n("90c1"),z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:t.$t("lang.selector.title"),visible:t.dialogVisible,"show-close":!0},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("div",[t._l(this.$i18n.availableLocales,(function(e,s){return[n("el-radio",{key:"lang-"+s,attrs:{label:e,border:""},on:{change:t.hideDialog},model:{value:t.$i18n.locale,callback:function(e){t.$set(t.$i18n,"locale",e)},expression:"$i18n.locale"}},[t._v(" "+t._s(t.$t("lang.name",e))+" ")])]}))],2)])},Q=[],W={name:"LangSwitcherDialog",data:function(){return{selectedLang:this.$i18n.locale}},props:{visible:{type:Boolean,required:!0}},methods:{hideDialog:function(t){var e=this;this.$store.dispatch("lang/updateLang",{lang:t,store:!0}),setTimeout((function(){e.$emit("hide-dialog",!1)}),150)}},computed:{dialogVisible:{get:function(){return this.visible||!1},set:function(t){this.hideDialog()}}},components:{}},J=W,Z=(n("36b6"),Object(c["a"])(J,z,Q,!1,null,null,null)),K=Z.exports,Y={name:"Nav",data:function(){return{online:null,languageSwitchVisible:!1}},props:{type:String},components:{ElIcon:M["a"],ElLangSwitcherDialog:K},computed:Object(p["a"])({navType:function(){return this.type?"el-nav--"+this.type:""}},Object(m["b"])("auth",["isAuthenticated"])),mounted:function(){},methods:{handleDropdownActions:function(t){"teacher-login"===t?this.$router.push({path:"/login"}):"teacher-logout"===t?this.$router.push({path:"/logout"}):"settings"===t&&this.$router.push({path:"/login"})},handleConnectivityChange:function(t){this.online=t}}},X=Y,tt=(n("d463"),Object(c["a"])(X,B,F,!1,null,null,null)),et=tt.exports,nt=n("c41f"),st=n.n(nt),at=n("370e"),it=n.n(at),ot={name:"Header",props:{type:String,size:String,title:String,back:String,showBack:Boolean,breadcrumbs:Array},components:{ElNav:et,ElIcon:M["a"],ShapeOne:st.a,ShapeTwo:it.a},computed:{classes:function(){var t="";return this.type&&(t+="el-header--"+this.type),this.size&&(t+=" el-header--"+this.size),t}}},rt=ot,ct=(n("e431"),Object(c["a"])(rt,V,G,!1,null,"3a423969",null)),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"el-section el-section--quicknav"},[n("div",{staticClass:"el-container is-vertical"},[n("div",{staticClass:"el-section__inner"},[t._l(this.items,(function(e,s){return[e.enabled?n("el-card-link",{key:s,attrs:{label:e.label,link:e.link,icon:e.icon,color:e.color}}):t._e()]}))],2)])])},dt=[],ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"el-card el-card--link is-linked",class:t.cardColor},[n("div",{staticClass:"el-card__icon el-icon el-icon--svg el-icon--md"},["collection"===this.icon?n("el-icon-collection"):t._e(),"globe"===this.icon?n("el-icon-globe"):t._e()],1),n("div",{staticClass:"el-card__header"},[n("h2",[t._v(t._s(this.label))])]),n("div",{staticClass:"el-card__link"},[this.link.internal?n("router-link",{attrs:{to:this.link.path}}):n("a",{attrs:{href:this.link.path,target:"_blank"}})],1)])},ft=[],gt=n("4456"),pt=n.n(gt),mt=n("107f"),bt=n.n(mt),vt={name:"CardLink",props:{label:{type:String,required:!0},link:{type:Object,required:!0},icon:{type:String,required:!0},color:{type:String,required:!1}},computed:{cardColor:function(){return this.color?"el-card--".concat(this.color):null}},components:{ElIconCollection:pt.a,ElIconGlobe:bt.a}},_t=vt,wt=(n("35a2"),Object(c["a"])(_t,ht,ft,!1,null,"60363c24",null)),kt=wt.exports,yt={name:"QuickNav",data:function(){return{}},props:{items:{type:Array,required:!0}},components:{ElCardLink:kt},computed:{},methods:{}},St=yt,Et=(n("073e"),Object(c["a"])(St,ut,dt,!1,null,null,null)),Ct=Et.exports,$t={name:"Home",mixins:[H,q],components:{ElHeader:lt,ElSectionQuicknav:Ct},data:function(){return{error:null}},computed:Object(p["a"])({},Object(m["c"])("settings",{settingsData:"settings"}),{quickNavItems:function(){return[{label:this.$t("home-screen.quicknav.files.title"),icon:"collection",color:"orange",link:{internal:!1,path:this.getFileviewerLink()},enabled:this.settingsData.components.fileviewer.active},{label:this.$t("home-screen.quicknav.website.title"),icon:"globe",color:"yellow",link:{internal:!1,path:this.settingsData.components.website.path},enabled:this.settingsData.components.website.active}]}}),beforeRouteEnter:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e,n,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([I.dispatch("settings/fetchSettings")]).then((function(){s()}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),s("/500");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));function e(e,n,s){return t.apply(this,arguments)}return e}()},Tt=$t,xt=(n("21bb"),Object(c["a"])(Tt,h,f,!1,null,null,null)),Ot=xt.exports,At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-header",{attrs:{title:t.$t("settings-screen.title"),back:t.$t("settings-screen.back"),"show-back":t.showBackButton,type:""}}),n("div",{staticClass:"el-main"},[n("div",{staticClass:"el-section el-section--settings"},[n("div",{staticClass:"el-container is-vertical"},[n("div",{staticClass:"el-section__inner"},[n("transition",{attrs:{name:t.transitionName,mode:"out-in"}},[n("router-view")],1)],1)])])])],1)},Dt=[],Rt=(n("1276"),"fade"),Nt={name:"Settings",components:{ElHeader:lt},computed:{showBackButton:function(){return"/settings"!==this.$route.path}},data:function(){return{error:null,transitionName:Rt}},created:function(){var t=this;this.$router.beforeEach((function(e,n,s){var a=e.meta.transitionName||n.meta.transitionName;if("slide"===a){var i=e.path.split("/").length,o=n.path.split("/").length;a=i<o?"slide-right":"slide-left"}t.transitionName=a||Rt,s()}))},beforeEach:function(t,e,n){var s=t.meta.transitionName||e.meta.transitionName;if("slide"===s){var a=t.path.split("/").length,i=e.path.split("/").length;s=a<i?"slide-right":"slide-left"}this.transitionName=s,n()}},Lt=Nt,jt=(n("e1c8"),Object(c["a"])(Lt,At,Dt,!1,null,null,null)),Ut=jt.exports,Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[this.$store.state.auth.required?t._e():n("el-alert",{attrs:{title:t.$t("settings-screen.auth.disabled.title"),description:t.$t("settings-screen.auth.disabled.description")}}),n("div",{staticClass:"el-section__group"},[n("div",{staticClass:"el-section__content"},[t._l(this.links,(function(e,s){return[e.internal?n("el-button",{key:"settings-link-"+s,attrs:{type:"settings el-button--block"},on:{click:function(n){return t.$router.push(e.path)}}},[n("span",{staticClass:"el-button__label"},[n("el-icon",{attrs:{name:e.icon}}),t._v(" "+t._s(e.label)+" ")],1),n("el-icon",{attrs:{name:"heroicons-chevron-right"}})],1):n("a",{key:"settings-link-"+s,staticClass:"el-button el-button--settings el-button--block",attrs:{href:e.url,target:"_blank"}},[n("span",[n("span",{staticClass:"el-button__label"},[n("el-icon",{attrs:{name:e.icon}}),t._v(" "+t._s(e.label)+" ")],1),n("el-icon",{attrs:{name:"heroicons-external-link"}})],1)])]}))],2)]),n("div",{staticClass:"el-section__footer"},[t._v(" v"+t._s(t.appVersion)+" ")])],1)},It=[],Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-alert",{attrs:{type:"warning",title:this.title,description:this.description,closable:!1}})},qt=[],Vt={name:"Alert",components:{},data:function(){return{}},props:{title:String,description:String},computed:{},methods:{}},Gt=Vt,Bt=(n("61aa"),Object(c["a"])(Gt,Ht,qt,!1,null,null,null)),Ft=Bt.exports,Mt={name:"SettingsHome",mixins:[H,q],components:{ElAlert:Ft,ElIcon:M["a"]},data:function(){return{links:[{internal:!0,icon:"heroicons-view-grid",label:this.$t("settings-screen.components.title"),path:"/settings/components"},{internal:!0,icon:"heroicons-translate",label:this.$t("settings-screen.language.title"),path:"/settings/language"},{internal:!1,icon:"heroicons-collection",label:this.$t("settings-screen.filemanager.title"),url:this.getFileviewerLink(!0)},{internal:!0,icon:"heroicons-wifi",label:this.$t("settings-screen.network.title"),path:"/settings/network"},{internal:!0,icon:"heroicons-user",label:this.$t("settings-screen.auth.title"),path:"/settings/users"},{internal:!0,icon:"heroicons-server",label:this.$t("settings-screen.system.title"),path:"/settings/system"}]}},computed:{appVersion:function(){return"0.1.0"}},beforeRouteEnter:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e,n,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([I.dispatch("settings/fetchSettings")]).then((function(){s()}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),s("/500");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));function e(e,n,s){return t.apply(this,arguments)}return e}()},zt=Mt,Qt=Object(c["a"])(zt,Pt,It,!1,null,null,null),Wt=Qt.exports,Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"el-section__group"},[n("div",{staticClass:"el-section__header"},[n("h5",[t._v(t._s(t.$t("settings-screen.components.title")))])]),n("div",{staticClass:"el-section__content el-section__content--has-form"},[n("el-form",{attrs:{"label-width":""}},[n("el-form-item",{staticClass:"el-form-item--bordered",attrs:{label:t.$t("settings-screen.components.fileviewer.label"),align:"right"}},[n("el-switch",{model:{value:t.fileviewerEnabled,callback:function(e){t.fileviewerEnabled=e},expression:"fileviewerEnabled"}})],1),n("el-form-item",{staticClass:"el-form-item--bordered",attrs:{label:t.$t("settings-screen.components.website.label"),align:"right"}},[n("el-switch",{model:{value:t.websiteEnabled,callback:function(e){t.websiteEnabled=e},expression:"websiteEnabled"}})],1)],1)],1)])])},Zt=[],Kt={methods:{updateSetting:function(t,e,n){var s={group:t,key:e,value:n};this.$store.dispatch("settings/update",s).then((function(t){})).catch((function(t){console.warn(t)}))}}},Yt={name:"SettingsComponents",components:{},mixins:[Kt],data:function(){return{error:null}},computed:{fileviewerEnabled:{get:function(){return this.$store.state.settings.settings.components.fileviewer.active},set:function(t){this.updateSetting("components.fileviewer","active",t)}},websiteEnabled:{get:function(){return this.$store.state.settings.settings.components.website.active},set:function(t){this.updateSetting("components.website","active",t)}}},beforeRouteEnter:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e,n,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([I.dispatch("settings/fetchSettings")]).then((function(){s()}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),s("/500");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));function e(e,n,s){return t.apply(this,arguments)}return e}()},Xt=Yt,te=(n("ea7d"),Object(c["a"])(Xt,Jt,Zt,!1,null,null,null)),ee=te.exports,ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"el-section__group"},[n("div",{staticClass:"el-section__header"},[n("h5",[t._v(t._s(t.$t("settings-screen.language.title")))])]),n("div",{staticClass:"el-section__content el-section__content--has-form"},[n("el-form",{attrs:{"label-width":""}},[n("el-form-item",{attrs:{label:"Default language",align:"right"}},[n("el-select",{attrs:{placeholder:"Select"},model:{value:t.defaultLanguage,callback:function(e){t.defaultLanguage=e},expression:"defaultLanguage"}},t._l(this.$i18n.availableLocales,(function(e){return n("el-option",{key:e,attrs:{label:t.$t("lang.name",e),value:e}})})),1)],1)],1)],1)])])},se=[],ae={name:"SettingsLanguage",components:{},mixins:[Kt],data:function(){return{error:null}},computed:{defaultLanguage:{get:function(){return this.$store.state.settings.settings.lang.default||this.$i18n.locale},set:function(t){this.updateSetting("lang","default",t)}}},beforeRouteEnter:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e,n,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([I.dispatch("settings/fetchSettings")]).then((function(){s()}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),s("/500");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));function e(e,n,s){return t.apply(this,arguments)}return e}()},ie=ae,oe=(n("bf40"),Object(c["a"])(ie,ne,se,!1,null,null,null)),re=oe.exports,ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"el-section__group"},[n("div",{staticClass:"el-section__header"},[n("h5",[t._v(t._s(t.$t("settings-screen.network.title")))])]),n("div",{directives:[{name:"loading",rawName:"v-loading",value:!this.wifi,expression:"this.wifi ? false : true"}],staticClass:"el-section__content"},[n("a",{staticClass:"el-button el-button--settings el-button--block",class:t.isConnectButtonDisabled?"is-disabled":"",attrs:{href:"/wifi/connect",target:"_blank"}},[n("span",[n("span",{staticClass:"el-button__label"},[n("el-icon",{attrs:{name:"heroicons-wifi"}}),t._v(" "+t._s(t.$t("settings-screen.network.connect.label"))+" ")],1),n("el-icon",{attrs:{name:"heroicons-external-link"}})],1)]),n("el-button",{attrs:{type:"settings el-button--block",disabled:t.isResetButtonDisabled},on:{click:function(e){return t.openDialog(t.dialogData.warning)}}},[n("span",{staticClass:"el-button__label"},[n("el-icon",{attrs:{name:"heroicons-refresh"}}),t._v(" "+t._s(t.$t("settings-screen.network.reset.label"))+" ")],1),n("el-icon",{attrs:{name:"heroicons-chevron-right"}})],1)],1)]),n("el-dialog",{attrs:{title:t.dialogContent.title,visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("p",{domProps:{innerHTML:t._s(t.dialogContent.content)}}),t.dialogContent.buttons.length?n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t._l(t.dialogContent.buttons,(function(e,s){return["close"===e.action?n("el-button",{key:s,class:e.class,attrs:{type:e.type},on:{click:function(e){t.dialogVisible=!1}}},[t._v(" "+t._s(e.label)+" ")]):t._e(),"proceed"===e.action?n("el-button",{key:s,class:e.class,attrs:{type:e.type},on:{click:function(e){return t.resetWifiConnection()}}},[t._v(" "+t._s(e.label)+" ")]):t._e()]}))],2):t._e()])],1)},le=[],ue={name:"SettingsNetwork",components:{ElIcon:M["a"]},mixins:[],data:function(){return{error:null,wifi:null,dialogVisible:!1,dialogContent:{title:null,content:null,buttons:[{action:null,type:null,class:null,label:null}]},dialogData:{warning:{title:this.$t("settings-screen.network.reset.warning.title"),content:this.$t("settings-screen.network.reset.warning.content"),buttons:[{action:"close",type:"",class:"el-button--half",label:this.$t("settings-screen.network.reset.warning.cancel")},{action:"proceed",type:"danger",class:"el-button--half",label:this.$t("settings-screen.network.reset.warning.submit")}]},success:{title:this.$t("settings-screen.network.reset.success.title"),content:this.$t("settings-screen.network.reset.success.content"),buttons:[{action:"close",type:"",class:"el-button--block",label:this.$t("settings-screen.network.reset.success.close")}]},error:{title:this.$t("settings-screen.network.reset.error.title"),content:this.$t("settings-screen.network.reset.error.content"),buttons:[{action:"close",type:"",class:"el-button--block",label:this.$t("settings-screen.network.reset.error.close")}]}}}},computed:{isConnectButtonDisabled:function(){return!(!this.wifi||"connected"!==this.wifi&&"error"!==this.wifi)},isResetButtonDisabled:function(){return!(!this.wifi||"disconnected"!==this.wifi&&"error"!==this.wifi)}},mounted:function(){var t=this;y().get("/system/wifi/status").then((function(e){e.data&&e.data.connection&&(t.wifi=e.data.connection)})).catch((function(e){e.response&&e.response.data&&e.response.data.connection?t.wifi=e.response.data.connection:t.wifi="error"}))},methods:{openDialog:function(t){var e=this;setTimeout((function(){e.dialogContent=t,e.dialogVisible=!0}),450)},resetWifiConnection:function(){var t=this;this.dialogVisible=!1,this.$store.commit("app/SET_LOADING",!0),y().post("/system/wifi/reset").then((function(e){t.$store.commit("app/SET_LOADING",!1),t.wifi="disconnected",t.openDialog(t.dialogData.success)})).catch((function(e){console.error(e),t.$store.commit("app/SET_LOADING",!1),t.openDialog(t.dialogData.error)}))}}},de=ue,he=(n("cbee"),Object(c["a"])(de,ce,le,!1,null,null,null)),fe=he.exports,ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[this.$store.state.auth.required?t._e():n("div",{staticClass:"el-section__group"},[n("el-alert",{attrs:{title:t.$t("settings-screen.auth.disabled.title"),description:t.$t("settings-screen.auth.disabled.description")}})],1),n("div",{staticClass:"el-section__group"},[n("div",{staticClass:"el-section__header"},[n("h5",[t._v(t._s(t.$t("settings-screen.auth.account.title")))])]),n("div",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"this.loading"}],staticClass:"el-section__content"},[n("el-form",{ref:"authSettings",attrs:{model:t.authSettings,rules:t.authSettingsRules,"label-width":""}},[n("el-form-item",{attrs:{label:"",align:"left",prop:"username"}},[n("el-input",{attrs:{placeholder:"Username"},model:{value:t.authSettings.username,callback:function(e){t.$set(t.authSettings,"username",e)},expression:"authSettings.username"}},[n("i",{attrs:{slot:"prefix"},slot:"prefix"},[n("el-icon",{attrs:{name:"heroicons-user",type:"light",classes:"el-input__icon"}})],1)])],1),n("el-form-item",{attrs:{label:"",align:"left",prop:"password"}},[n("el-input",{attrs:{placeholder:"Password",required:""},model:{value:t.authSettings.password,callback:function(e){t.$set(t.authSettings,"password",e)},expression:"authSettings.password"}},[n("i",{attrs:{slot:"prefix"},slot:"prefix"},[n("el-icon",{attrs:{name:"heroicons-key",type:"light",classes:"el-input__icon"}})],1)])],1),n("el-form-item",{attrs:{label:""}},[n("password",{attrs:{"strength-meter-only":!0},on:{score:t.updateSubmitState},model:{value:t.authSettings.password,callback:function(e){t.$set(t.authSettings,"password",e)},expression:"authSettings.password"}})],1),n("el-button",{class:t.submitDisabled?"":"el-button--success",attrs:{type:" el-button--block",disabled:t.submitDisabled,plain:""},on:{click:function(e){return t.submitAccountForm()}}},[t._v(" "+t._s(t.$t("general.save"))+" ")])],1)],1)])])},pe=[],me=n("f20a"),be=n.n(me),ve={name:"SettingsUsers",components:{ElIcon:M["a"],ElAlert:Ft,Password:be.a},mixins:[],data:function(){return{error:null,loading:!1,submitDisabled:!0,authSettings:{username:this.$store.state.auth.username||null,password:null},authSettingsRules:{}}},computed:{},methods:{updateSubmitState:function(t){this.submitDisabled=!(t>=3)},submitAccountForm:function(){var t=I.getters["auth/isAuthRequired"];t?this.updateUserAccount():this.createUserAccount()},createUserAccount:function(){var t=this;this.loading=!0,y().post("/users",Object(p["a"])({},this.authSettings)).then((function(e){t.$store.dispatch("auth/logout").then((function(e){setTimeout((function(){t.$router.go("/login")}),300)}))})).catch((function(e){console.error(e),t.loading=!1}))},updateUserAccount:function(){var t=this;this.loading=!0,y().patch("/users",Object(p["a"])({id:this.$store.state.auth.username},this.authSettings)).then((function(e){t.$store.dispatch("auth/logout").then((function(e){setTimeout((function(){t.$router.go("/login")}),300)}))})).catch((function(e){console.error(e),t.loading=!1}))}},beforeRouteEnter:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e,n,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([I.dispatch("settings/fetchSettings")]).then((function(){s()}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),s("/500");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));function e(e,n,s){return t.apply(this,arguments)}return e}()},_e=ve,we=(n("8c4f9"),Object(c["a"])(_e,ge,pe,!1,null,null,null)),ke=we.exports,ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"el-section__group"},[n("div",{staticClass:"el-section__header"},[n("h5",[t._v(t._s(t.$t("settings-screen.system.versions.title")))])]),n("div",{staticClass:"el-section__content"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.versions,"show-header":!1}},[n("el-table-column",{attrs:{prop:"id",name:"Component",formatter:t.getComponentName}}),n("el-table-column",{attrs:{prop:"version",name:"Version",align:"right"}})],1)],1)]),n("div",{staticClass:"el-section__group"},[n("div",{staticClass:"el-section__header"},[n("h5",[t._v(t._s(t.$t("settings-screen.system.hostname.title")))])]),n("div",{staticClass:"el-section__content"},[n("el-form",{ref:"hostnameSettings",attrs:{model:t.hostnameSettings,rules:t.hostnameSettingsRules,"label-width":"","status-icon":!0}},[n("el-form-item",{attrs:{label:"",align:"right",prop:"hostname"}},[n("el-input",{model:{value:t.hostnameSettings.hostname,callback:function(e){t.$set(t.hostnameSettings,"hostname",e)},expression:"hostnameSettings.hostname"}},[n("template",{slot:"prepend"},[t._v("http://")]),n("template",{slot:"append"},[t._v(" "+t._s(this.$store.state.settings.settings.system.tld||".local")+" ")])],2)],1),n("el-button",{attrs:{type:" el-button--block",disabled:t.hostnameSubmitDisabled,plain:""},on:{click:function(e){return t.updateHostname()}}},[t._v(" "+t._s(t.$t("settings-screen.system.hostname.update.label"))+" ")])],1)],1)]),n("div",{staticClass:"el-section__group"},[n("div",{staticClass:"el-section__header"},[n("h5",[t._v(t._s(t.$t("settings-screen.system.database.title")))])]),n("div",{staticClass:"el-section__content"},[n("el-button",{attrs:{type:"danger el-button--block",plain:""},on:{click:function(e){return t.resetDatabase()}}},[t._v(" "+t._s(t.$t("settings-screen.system.database.reset.label"))+" ")])],1)]),n("el-dialog",{attrs:{title:t.dialogContent.title,visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("p",{domProps:{innerHTML:t._s(t.dialogContent.content)}}),t.dialogContent.buttons.length?n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t._l(t.dialogContent.buttons,(function(e,s){return["close"===e.action?n("el-button",{key:s,class:e.class,attrs:{type:e.type},on:{click:function(e){t.dialogVisible=!1}}},[t._v(" "+t._s(e.label)+" ")]):t._e(),"proceed"===e.action?n("el-button",{key:s,class:e.class,attrs:{type:e.type},on:{click:function(e){return t.resetDatabase()}}},[t._v(" "+t._s(e.label)+" ")]):t._e()]}))],2):t._e()])],1)},Se=[],Ee=(n("4d63"),n("25f0"),n("498a"),n("b047")),Ce=n.n(Ee),$e={name:"SettingsNetwork",components:{},mixins:[Kt],data:function(){var t=function(t,e,n){if(!e)return n(new Error("Please input a hostname"));var s=new RegExp(/^[a-zA-Z0-9-_]*$/);s.test(e)?n():n(new Error("Hostname contains invalid characters."))};return{error:null,versions:null,hostnameSubmitDisabled:!0,hostnameSettings:{hostname:this.$store.state.settings.settings.system.hostname||window.location.hostname},hostnameSettingsRules:{hostname:[{validator:t,trigger:"blur"},{required:!0,message:"",trigger:"blur"},{min:2,max:30,message:"",trigger:"blur"}]},dialogVisible:!1,dialogContent:{title:null,content:null,buttons:[{action:null,type:null,class:null,label:null}]},dialogData:{hostname:{success:{title:this.$t("settings-screen.system.hostname.update.success.title"),content:this.$t("settings-screen.system.hostname.update.success.content"),buttons:[{action:"close",type:"",class:"el-button--block",label:this.$t("settings-screen.system.hostname.update.success.close")}]},error:{title:this.$t("settings-screen.system.hostname.update.error.title"),content:this.$t("settings-screen.system.hostname.update.error.content"),buttons:[{action:"close",type:"",class:"el-button--block",label:this.$t("settings-screen.system.hostname.update.error.close")}]}},database:{success:{title:this.$t("settings-screen.system.database.reset.success.title"),content:this.$t("settings-screen.system.database.reset.success.content"),buttons:[{action:"close",type:"",class:"el-button--block",label:this.$t("settings-screen.system.database.reset.success.close")}]},error:{title:this.$t("settings-screen.system.database.reset.error.title"),content:this.$t("settings-screen.system.database.reset.error.content"),buttons:[{action:"close",type:"",class:"el-button--block",label:this.$t("settings-screen.system.database.reset.error.close")}]}}}}},mounted:function(){var t=this;y().get("/system/versions").then((function(e){e.data&&e.data.versions&&(t.versions=e.data.versions)})).catch((function(e){e.response&&e.response.data&&e.response.data.connection?t.wifi=e.response.data.connection:t.wifi="error"}))},computed:{},methods:{getComponentName:function(t,e){return this.$t("settings-screen.system.versions.components."+t.id)||t.id},updateHostname:function(){var t=this;this.$store.commit("app/SET_LOADING",!0),this.$refs.hostnameSettings.validate((function(e){if(!e)return t.$store.commit("app/SET_LOADING",!1),!1;y().patch("/system/hostname",Object(p["a"])({},t.hostnameSettings)).then((function(e){t.$store.commit("app/SET_LOADING",!1);var n=Object(p["a"])({},t.dialogData.hostname.success);n.content=n.content.replaceAll("%hostname%",e.data.hostname),n.content=n.content.replaceAll("%ssid%",e.data.ssid),t.updateSetting("system","hostname",e.data.hostname),t.openDialog(n)})).catch((function(e){console.error(e),t.hostnameSettings.hostname=I.state.settings.settings.system.hostname,t.$store.commit("app/SET_LOADING",!1),t.openDialog(t.dialogData.hostname.error)}))}))},checkHostnameValidity:Ce()((function(){var t=this;this.hostnameSettings.hostname=this.hostnameSettings.hostname.trim(),this.$refs.hostnameSettings.validate((function(e){if(!e)return t.hostnameSubmitDisabled=!0,!1;t.hostnameSettings.hostname===I.state.settings.settings.system.hostname?t.hostnameSubmitDisabled=!0:t.hostnameSubmitDisabled=!1}))}),400),openDialog:function(t){var e=this;setTimeout((function(){e.dialogContent=t,e.dialogVisible=!0}),450)},resetDatabase:function(){var t=this;this.dialogVisible=!1,this.$store.commit("app/SET_LOADING",!0),y().post("/system/database/reset").then((function(e){t.$store.commit("app/SET_LOADING",!1),t.openDialog(t.dialogData.database.success)})).catch((function(e){console.error(e),t.$store.commit("app/SET_LOADING",!1),t.openDialog(t.dialogData.database.error)}))}},watch:{"hostnameSettings.hostname":function(t,e){this.checkHostnameValidity()}},beforeRouteEnter:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e,n,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([I.dispatch("settings/fetchSettings")]).then((function(){s()}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),s("/500");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));function e(e,n,s){return t.apply(this,arguments)}return e}()},Te=$e,xe=(n("367a"),Object(c["a"])(Te,ye,Se,!1,null,null,null)),Oe=xe.exports;function Ae(t,e,n){return De.apply(this,arguments)}function De(){return De=Object(g["a"])(regeneratorRuntime.mark((function t(e,n,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([I.dispatch("auth/getAuthRequirements")]).then((function(){!0===I.getters["auth/isAuthRequired"]?I.getters["auth/isAuthenticated"]?s():s("/login?redirect=".concat(e.path)):!1===I.getters["auth/isAuthRequired"]?s():s("/500")}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),s("/500");case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),De.apply(this,arguments)}function Re(t,e,n){I.getters["auth/isAuthenticated"]?t.query.redirect?n(t.query.redirect):n("/"):n()}var Ne="lb__lang";function Le(t,e,n){return I.state.lang.current||!1}function je(t,e,n){return Ue.apply(this,arguments)}function Ue(){return Ue=Object(g["a"])(regeneratorRuntime.mark((function t(e,n,s){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=k.a.get(Ne),!a){t.next=5;break}I.dispatch("lang/updateLang",{lang:a,store:!0}),t.next=18;break;case 5:if(i=I.getters["settings/getSettingFromPath"]("lang.default"),!i){t.next=10;break}I.dispatch("lang/updateLang",{lang:i,store:!1}),t.next=18;break;case 10:return t.prev=10,t.next=13,Promise.all([I.dispatch("settings/fetchSettings")]).then((function(){i=I.getters["settings/getSettingFromPath"]("lang.default"),i&&I.dispatch("lang/updateLang",{lang:i,store:!1})}));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](10),console.error("[router/middleware/setLang]","Settings could not be fetched");case 18:s();case 19:case"end":return t.stop()}}),t,null,[[10,15]])}))),Ue.apply(this,arguments)}s["default"].use(d["a"]);var Pe=[{path:"/",component:Ot},{path:"/settings",beforeEnter:Ae,component:Ut,children:[{path:"",component:Wt},{path:"/settings/components",component:ee,meta:{transitionName:"slide"}},{path:"/settings/language",component:re,meta:{transitionName:"slide"}},{path:"/settings/network",component:fe,meta:{transitionName:"slide"}},{path:"/settings/users",component:ke,meta:{transitionName:"slide"}},{path:"/settings/system",component:Oe,meta:{transitionName:"slide"}}]},{path:"/login",beforeEnter:Re,component:function(){return n.e("auth.login").then(n.bind(null,"5326"))}},{path:"/logout",component:function(){return n.e("auth.logout").then(n.bind(null,"6f8d"))}},{path:"/404",component:function(){return n.e("auth.login").then(n.bind(null,"dda8"))}},{path:"/500",component:function(){return n.e("auth.login").then(n.bind(null,"dda8"))}},{path:"/files/admin",redirect:function(){window.location.href="/files?mode=admin"}}],Ie=new d["a"]({routes:Pe});Ie.beforeEach((function(t,e,n){var s=Le();s?n():je(t,e,n)}));var He=Ie,qe=n("5c96"),Ve=n("b2d6"),Ge=n.n(Ve),Be=n("4897"),Fe=n.n(Be);s["default"].use(qe["Container"]),s["default"].use(qe["Header"]),s["default"].use(qe["Main"]),s["default"].use(qe["Button"]),s["default"].use(qe["Dialog"]),s["default"].use(qe["Form"]),s["default"].use(qe["FormItem"]),s["default"].use(qe["Input"]),s["default"].use(qe["Radio"]),s["default"].use(qe["RadioButton"]),s["default"].use(qe["Switch"]),s["default"].use(qe["Select"]),s["default"].use(qe["Option"]),s["default"].use(qe["Alert"]),s["default"].use(qe["Loading"]),s["default"].use(qe["Table"]),s["default"].use(qe["TableColumn"]),Fe.a.use(Ge.a),s["default"].config.productionTip=!1,s["default"].$router=He,new s["default"]({router:He,store:I,i18n:x,render:function(t){return t(u)}}).$mount("#app")},"5b96":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var s=n("9c0c"),a=n.n(s);a.a},"61aa":function(t,e,n){"use strict";var s=n("52ff"),a=n.n(s);a.a},"6d35":function(t,e,n){},"721c":function(t,e,n){},"7bdd":function(t,e,n){},"8c4f9":function(t,e,n){"use strict";var s=n("6d35"),a=n.n(s);a.a},"90c1":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("i",{staticClass:"el-icon el-icon--svg",class:t.componentClasses},[n(t.dynamicComponent,{tag:"component"})],1)},a=[],i=(n("99af"),n("b0c0"),n("d3b7"),{name:"Icon",data:function(){return{}},props:{name:{type:String,required:!0},type:{type:String,required:!1},size:{type:String,required:!1},classes:{type:String,required:!1}},computed:{dynamicComponent:function(){var t=this;return function(){return n("153d")("./".concat(t.name,".svg"))}},componentClasses:function(){var t="";return this.type&&(t=t.concat(t," ","el-icon--".concat(this.type))),this.size&&(t=t.concat(t," ","el-icon--".concat(this.size))),this.classes&&(t=t.concat(t," ",this.classes)),t}}}),o=i,r=n("2877"),c=Object(r["a"])(o,s,a,!1,null,null,null);e["a"]=c.exports},"9c0c":function(t,e,n){},"9ec8":function(t,e,n){},a35b:function(t,e,n){var s={"./ar.json":"b4cb","./de.json":"bac1","./en.json":"e312"};function a(t){var e=i(t);return n(e)}function i(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=i,t.exports=a,a.id="a35b"},b4cb:function(t){t.exports=JSON.parse('{"lang":{"name":"عربى","selector":{"title":"Select your preferred language"}},"home-screen":{"title":"أهلا بك","quicknav":{"files":{"title":"الملفات"},"website":{"title":"موقع الكتروني"}}},"settings-screen":{"title":"Settings"}}')},bac1:function(t){t.exports=JSON.parse('{"lang":{"name":"Deutsch","selector":{"title":"Select your preferred language"}},"auth-screen":{"login":{"title":"Login","description":"Bitte verwenden Sie die bereitgestellten Zugangsdaten, um sich einzuloggen und auf eingeschränkte Inhalte zuzugreifen.","username":"Benutzername","password":"Passwort","submit":"Login"}},"home-screen":{"title":"Willkommen","quicknav":{"files":{"title":"Dateien"},"website":{"title":"Webseite"}}},"settings-screen":{"title":"Einstellungen"}}')},bf40:function(t,e,n){"use strict";var s=n("e157"),a=n.n(s);a.a},bf7c:function(t,e,n){},c166:function(t,e,n){},c41f:function(t,e,n){n("99af");var s=n("ded3"),a=n("4082");t.exports={functional:!0,render:function(t,e){var n=e._c,i=(e._v,e.data),o=e.children,r=void 0===o?[]:o,c=i.class,l=i.staticClass,u=i.style,d=i.staticStyle,h=i.attrs,f=void 0===h?{}:h,g=a(i,["class","staticClass","style","staticStyle","attrs"]);return n("svg",s({class:[c,l],style:[u,d],attrs:Object.assign({width:"267",height:"355",xmlns:"http://www.w3.org/2000/svg"},f)},g),r.concat([n("path",{attrs:{d:"M251.2 13.7c15.1 25-14.2 90.7-13.6 143.7.7 53.1 31.4 93.6 28.6 130.1-2.8 36.5-39 69-75.1 66.7-36-2.2-71.8-39.1-106.4-60.1-34.5-21-67.8-26.1-78.9-44.4-11.2-18.3-.2-49.8 4.2-83.9 4.5-34 2.4-70.5 19.1-95.2 16.8-24.7 52.3-37.7 99.9-52 47.6-14.3 107.1-29.9 122.2-4.9z",fill:"#FFF","fill-rule":"nonzero"}})]))}}},cbee:function(t,e,n){"use strict";var s=n("c166"),a=n.n(s);a.a},d463:function(t,e,n){"use strict";var s=n("9ec8"),a=n.n(s);a.a},e157:function(t,e,n){},e1c8:function(t,e,n){"use strict";var s=n("3f57"),a=n.n(s);a.a},e312:function(t){t.exports=JSON.parse('{"lang":{"name":"English","selector":{"title":"Select your preferred language"}},"auth-screen":{"login":{"title":"Login","description":"Please use the provided credentials to login in order to access restricted content","username":"Username","password":"Password","submit":"Login"}},"home-screen":{"title":"Welcome","quicknav":{"files":{"title":"Files"},"website":{"title":"Website"}}},"settings-screen":{"back":"Back","title":"Settings","components":{"title":"Components","fileviewer":{"label":"Enable file viewer"},"website":{"label":"Enable website"}},"language":{"title":"Language","default":{"label":"Default language"}},"filemanager":{"title":"File Manager"},"network":{"title":"Wifi","connect":{"label":"Connect to wifi"},"reset":{"label":"Reset wifi connection","warning":{"title":"Are you certain you want to reset the connection?","content":"If you proceed, the wifi connection will be reset and you will need to re-configure it.","cancel":"Cancel","submit":"Reset now"},"success":{"title":"Reset successful","content":"Please connect to the <b>lb.wifi</b> network to re-configure the network connection.","close":"Close"},"error":{"title":"Reset failed","content":"The wifi connection could not be reset. Please try again.","close":"Close"}}},"auth":{"title":"Users","disabled":{"title":"Authentication disabled","description":"You haven\'t created a user yet and anyone can currently access the settings pages. Please create account now."},"account":{"title":"Account"}},"system":{"title":"System","versions":{"title":"Versions","components":{"lb":"Learners Block","frontend":"Frontend","backend":"Backend","controller":"Controller","ifm":"Filemanager","wificonnect_ui":"WiFi Connect"}},"hostname":{"title":"Hostname","update":{"label":"Update hostname","success":{"title":"Hostname updated","content":"The hostname was successfully updated to <b><a href=\\"http://%hostname%.local\\">%hostname%.local</a></b>. The wifi network SSID has been updated to <b>%ssid%</b> and you will need to reconnect to this new network.","close":"Close"},"error":{"title":"Request failed","content":"An error occured and the hostname could not be changed.","close":"Close"}}},"database":{"title":"Database","reset":{"label":"Reset database","success":{"title":"Reset successful","content":"The database was reset succesfully. Please reload the app for changes to take effect.","close":"Close"},"error":{"title":"Reset failed","content":"An error occured and the database state could not be reset.","close":"Close"}}}}},"error-screen":{"404":{"title":"Well, this is awkward","description":"The page you tried to reach doesn\'t exist.","button":"Go home"},"500":{"title":"Houston, we have a problem","description":"The backend of the application is currently unreachable.","button":"Try again"}},"general":{"save":"Save"}}')},e431:function(t,e,n){"use strict";var s=n("1416"),a=n.n(s);a.a},ea7d:function(t,e,n){"use strict";var s=n("5b96"),a=n.n(s);a.a}});
//# sourceMappingURL=app.72c26ff5.js.map